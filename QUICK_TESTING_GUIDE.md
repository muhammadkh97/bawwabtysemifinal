# ๐ ุฏููู ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน | Quick Testing Guide

## โ ูุง ุชู ุฅูุฌุงุฒู | What Was Completed

### 1. **ููุญุฉ ุงูุชุญูู ุงููุงููุฉ ูููุณุคูู** โ
**ุงูููู**: `app/dashboard/admin/financials/page.tsx`

#### ุงูููุฒุงุช ุงููุถุงูุฉ:
- โ **ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ** (3 ูุฎุทุทุงุช):
  - ููุญูู ุงูุฅูุฑุงุฏุงุช ุงูููููุฉ
  - ูุฎุทุท ุนุฏุฏ ุงูุทูุจุงุช
  - ููุงุฑูุฉ ุงูุจุงุฆุนูู

- โ **ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุณุญุจ**:
  - ุนุฑุถ ุงูุทูุจุงุช ุงููุนููุฉ
  - ุฒุฑ ุงูููุงููุฉ (ูุฎุตู ูู ุงููุญูุธุฉ ุชููุงุฆูุงู)
  - ุฒุฑ ุงูุฑูุถ

- โ **ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ**:
  - ุชุตุฏูุฑ ุชูุฑูุฑ ุงูุจุงุฆุนูู (CSV)
  - ุชุตุฏูุฑ ุงูุฅูุฑุงุฏุงุช ุงูููููุฉ (CSV)
  - ุฏุนู ุงูุนุฑุจูุฉ ุงููุงูู

- โ **ูุฑุงูุจุฉ ุงูุงุชุตุงู**:
  - ูุคุดุฑ ุญุงูุฉ ูู ุงูุฃุนูู (๐ข ูุชุตู / ๐ด ุบูุฑ ูุชุตู)
  - ูุญุต ุชููุงุฆู ุนูุฏ ูุชุญ ุงูุตูุญุฉ

---

## ๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ | Testing Steps

### ุงูุฎุทูุฉ 1๏ธโฃ: ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุงูุชุญ Supabase SQL Editor:
```
https://supabase.com/dashboard/project/itptinhxsylzvfcpxwpl/sql
```

#### ุงูุณุฎ ูุงูุตู ูุฐุง ุงูููุฏ:
```sql
-- ุงุฎุชุจุงุฑ ุณุฑูุน
SELECT * FROM get_platform_financial_stats();
SELECT * FROM get_vendors_earnings_report() LIMIT 3;
SELECT * FROM get_daily_revenue_report(
  (CURRENT_DATE - INTERVAL '7 days')::date,
  CURRENT_DATE::date
);
```

#### ุฃู ุงุณุชุฎุฏู ุงูููู ุงูุฌุงูุฒ:
```
quick_test_financial_system.sql
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: โ ุฌููุน ุงูู Functions ุชุนูู ุจุฏูู ุฃุฎุทุงุก

---

### ุงูุฎุทูุฉ 2๏ธโฃ: ุงุฎุชุจุงุฑ TypeScript

#### ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก:
```bash
npm run build
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: โ Build successful, no errors

---

### ุงูุฎุทูุฉ 3๏ธโฃ: ุงุฎุชุจุงุฑ ุงูุชุทุจูู

#### ุดุบู ุงูุชุทุจูู:
```bash
npm run dev
```

#### ุงูุชุญ ุงููุชุตูุญ:
```
http://localhost:3000/dashboard/admin/financials
```

#### ุชุญูู ูู:
- [ ] โ ุธููุฑ 4 ุจุทุงูุงุช ุฅุญุตุงุฆูุฉ (ุงูุฅูุฑุงุฏุงุชุ ุฃุฑุจุงุญ ุงูููุตุฉุ ุฃุฑุจุงุญ ุงูุจุงุฆุนููุ ุงูุทูุจุงุช)
- [ ] โ ูุคุดุฑ ุงูุงุชุตุงู (๐ข ูุชุตู) ูู ุงูุฃุนูู
- [ ] โ ุธููุฑ 3 ุฑุณูู ุจูุงููุฉ:
  - ููุญูู ุงูุฅูุฑุงุฏุงุช (Line Chart)
  - ูุฎุทุท ุงูุทูุจุงุช (Bar Chart)
  - ููุงุฑูุฉ ุงูุจุงุฆุนูู (Horizontal Bar)
- [ ] โ ุฌุฏูู ุฃูุถู ุงูุจุงุฆุนูู
- [ ] โ ุฌุฏูู ุงูุฅูุฑุงุฏุงุช ุงูููููุฉ
- [ ] โ ุฃุฒุฑุงุฑ ุงูุชุตุฏูุฑ (ุชุตุฏูุฑ ุงูุจุงุฆุนููุ ุชุตุฏูุฑ ุงููููู)

---

### ุงูุฎุทูุฉ 4๏ธโฃ: ุงุฎุชุจุงุฑ ุทูุจุงุช ุงูุณุญุจ (ุงุฎุชูุงุฑู)

#### ุฅูุดุงุก ุทูุจ ุณุญุจ ุชุฌุฑูุจู:
```sql
-- ูู Supabase SQL Editor
INSERT INTO payout_requests (vendor_id, amount, status, bank_name, account_number, iban, account_holder)
SELECT 
  id as vendor_id,
  500.00 as amount,
  'pending' as status,
  'ุจูู ุงูุฑุงุฌุญู' as bank_name,
  '1234567890' as account_number,
  'SA1234567890' as iban,
  'ุงุณู ุงูุจุงุฆุน' as account_holder
FROM stores
LIMIT 1;
```

#### ูู ุงูุตูุญุฉ:
- [ ] โ ูุธูุฑ ูุณู "ุทูุจุงุช ุงูุณุญุจ ุงููุนููุฉ" ุจุงูููู ุงูุจุฑุชูุงูู
- [ ] โ ูุธูุฑ ุงูุทูุจ ูุน ูุนูููุงุช ุงูุจุงุฆุน
- [ ] โ ุฒุฑ "ููุงููุฉ" ู "ุฑูุถ" ูุนููุงู
- [ ] โ ุนูุฏ ุงูููุงููุฉ: ูุฎุตู ุงููุจูุบ ูู ุงููุญูุธุฉ
- [ ] โ ุฑุณุงูุฉ ุชุฃููุฏ ุชุธูุฑ

---

### ุงูุฎุทูุฉ 5๏ธโฃ: ุงุฎุชุจุงุฑ ุงูุชุตุฏูุฑ

#### ูู ุงูุตูุญุฉุ ุงุถุบุท ุนูู:
1. **"ุชุตุฏูุฑ ุงูุจุงุฆุนูู"**:
   - [ ] โ ูุชู ุชูุฒูู ููู `vendors_report_[ุงูุชุงุฑูุฎ].csv`
   - [ ] โ ุงูุชุญ ุงูููู ุจู Excel
   - [ ] โ ุงูุนุฑุจูุฉ ุชุธูุฑ ุจุดูู ุตุญูุญ
   - [ ] โ ุงูุจูุงูุงุช ูุงููุฉ

2. **"ุชุตุฏูุฑ ุงููููู"**:
   - [ ] โ ูุชู ุชูุฒูู ููู `daily_revenue_[ุงูุชุงุฑูุฎ].csv`
   - [ ] โ ุงูุชุญ ุงูููู ุจู Excel
   - [ ] โ ุงูุนุฑุจูุฉ ุชุธูุฑ ุจุดูู ุตุญูุญ
   - [ ] โ ุงูุจูุงูุงุช ูุงููุฉ

---

## ๐ ุญู ุงููุดุงูู | Troubleshooting

### ุงููุดููุฉ: ุงูุตูุญุฉ ูุง ุชุนูู
**ุงูุญู**:
1. ุชุญูู ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู (admin)
2. ุงูุชุญ Developer Console (F12)
3. ุงุจุญุซ ุนู ุฃุฎุทุงุก console.error
4. ุชุญูู ูู Network tab ููู API calls

---

### ุงููุดููุฉ: ุงูุฑุณูู ุงูุจูุงููุฉ ูุง ุชุธูุฑ
**ุงูุญู**:
```bash
npm list recharts
```
ูุฌุจ ุฃู ุชุธูุฑ: `recharts@3.6.0`

ุฅุฐุง ูู ุชุธูุฑ:
```bash
npm install recharts
```

---

### ุงููุดููุฉ: ูุคุดุฑ ุงูุงุชุตุงู ุฃุญูุฑ (๐ด ุบูุฑ ูุชุตู)
**ุงูุญู**:
1. ุชุญูู ูู ุฌุฏูู `financial_settings`:
```sql
SELECT * FROM financial_settings LIMIT 1;
```

2. ุฅุฐุง ูุงู ุงูุฌุฏูู ูุงุฑุบุ ุฃูุดุฆู:
```sql
INSERT INTO financial_settings (id) VALUES (1);
```

---

### ุงููุดููุฉ: ุทูุจุงุช ุงูุณุญุจ ูุง ุชุนูู
**ุงูุญู**:
1. ุชุญูู ูู ุงูุตูุงุญูุงุช:
```sql
-- ูู Supabase SQL Editor
GRANT UPDATE ON payout_requests TO authenticated;
GRANT UPDATE ON vendor_wallets TO authenticated;
```

2. ุชุญูู ูู RLS:
```sql
SELECT tablename, policyname 
FROM pg_policies 
WHERE tablename IN ('payout_requests', 'vendor_wallets');
```

---

## ๐ ููุงุญุธุงุช ูููุฉ | Important Notes

### 1. ูุคุดุฑ ุงูุงุชุตุงู
- ููุญุต ุฌุฏูู `financial_settings`
- ุฅุฐุง ูุงู ุงูุฌุฏูู ูุงุฑุบุ ุณูุธูุฑ "ุบูุฑ ูุชุตู"
- ุงูุญู: ุฃุถู ุณุฌู ูุงุญุฏ ุนูู ุงูุฃูู

### 2. ุทูุจุงุช ุงูุณุญุจ
- ุชุธูุฑ ููุท ุงูุทูุจุงุช ุจุญุงูุฉ `pending`
- ุนูุฏ ุงูููุงููุฉ:
  - ูุชุบูุฑ status ุฅูู `approved`
  - ูุฎุตู ุงููุจูุบ ูู `vendor_wallets.current_balance`
  - ูุถุงู ุฅูู `vendor_wallets.total_withdrawn`

### 3. ุงูุชุตุฏูุฑ
- ุงููููุงุช ุชุญูู UTF-8 ูุน BOM
- ูุฐุง ูุถูู ุนุฑุถ ุงูุนุฑุจูุฉ ุจุดูู ุตุญูุญ ูู Excel
- ุฅุฐุง ูุงูุช ุงูุนุฑุจูุฉ ูุนููุณุฉุ ุงูุชุญ ุจู Google Sheets ุฃููุงู ุซู ุตุฏุฑ

### 4. ุงูุฑุณูู ุงูุจูุงููุฉ
- ุชุณุชุฎุฏู ููุชุจุฉ `recharts`
- ุงูุจูุงูุงุช ูู `get_daily_revenue_report()`
- ุงููุชุฑุฉ ุงูุงูุชุฑุงุถูุฉ: ุขุฎุฑ 30 ููู
- ูููู ุชุบููุฑูุง ุจุงูุฃุฒุฑุงุฑ (7 ุฃูุงู / 30 ููู)

---

## โ Checklist ุงูููุงุฆู | Final Checklist

ูุจู ุงูุฅุนูุงู ุนู ุงูุชูุงู ุงููุดุฑูุนุ ุชุฃูุฏ ูู:

### ูุงุนุฏุฉ ุงูุจูุงูุงุช โ
- [ ] ุฌููุน ุงูู Functions ุชุนูู (6 functions)
- [ ] ุฌููุน ุงูู Views ููุฌูุฏุฉ (5 views)
- [ ] ุฌุฏูู financial_settings ุจู ุจูุงูุงุช
- [ ] RLS Policies ููุนูุฉ

### ุงูููุฏ โ
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก TypeScript
- [ ] ุฌููุน ุงูุงุณุชูุฑุงุฏุงุช ุตุญูุญุฉ
- [ ] `recharts` ูุซุจุชุฉ

### ุงูุตูุญุฉ โ
- [ ] ุงูุจุทุงูุงุช ุงูุฅุญุตุงุฆูุฉ ุชุนูู
- [ ] ุงูุฑุณูู ุงูุจูุงููุฉ ุชุธูุฑ
- [ ] ูุคุดุฑ ุงูุงุชุตุงู ุฃุฎุถุฑ
- [ ] ุฃุฒุฑุงุฑ ุงูุชุตุฏูุฑ ุชุนูู
- [ ] ุทูุจุงุช ุงูุณุญุจ (ุฅู ูุฌุฏุช) ุชุนูู

### ุงูู UX โ
- [ ] ุงูุชุตููู ุงุญุชุฑุงูู
- [ ] ุงูุฃููุงู ูุชูุงุณูุฉ
- [ ] ุงูุฑุณูู ุงููุชุญุฑูุฉ ุณูุณุฉ
- [ ] ุงูุฃููููุงุช ูุงุถุญุฉ
- [ ] ุงููุตูุต ุจุงูุนุฑุจูุฉ

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ | Final Result

ุจุนุฏ ุงูุชูุงู ุฌููุน ุงูุงุฎุชุจุงุฑุงุชุ ุณุชุญุตู ุนูู:

### ููุญุฉ ุชุญูู ูุงููุฉ ุงุญุชุฑุงููุฉ ุจูุณุชูู ุนุงููู
- โ **ุฅุญุตุงุฆูุงุช ููุฑูุฉ**: 4 ูุคุดุฑุงุช ุฑุฆูุณูุฉ
- โ **ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ**: 3 ูุฎุทุทุงุช Recharts
- โ **ุฅุฏุงุฑุฉ ูุงููุฉ ูุงููุฉ**: ููุงููุฉ/ุฑูุถ ุทูุจุงุช ุงูุณุญุจ
- โ **ุชูุงุฑูุฑ ูุงุจูุฉ ููุชุตุฏูุฑ**: CSV ุจุชูุณูู ุนุฑุจู
- โ **ูุฑุงูุจุฉ ุญูุฉ**: ุญุงูุฉ ุงูุงุชุตุงู ูู ุงูููุช ุงููุนูู
- โ **ุชุตููู Amazon-like**: ูุงุฌูุฉ ุงุญุชุฑุงููุฉ

---

## ๐ ุงูุฏุนู | Support

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุฑุงุฌุน ูุณู "ุญู ุงููุดุงูู" ุฃุนูุงู
2. ุงูุญุต Developer Console ููุฃุฎุทุงุก
3. ุดุบู `quick_test_financial_system.sql` ูู Supabase
4. ุชุญูู ูู `ADMIN_DASHBOARD_FINANCIAL_COMPLETE.md` ููุชูุงุตูู ุงููุงููุฉ

---

**โ ุงููุธุงู ุฌุงูุฒ ููุฅูุชุงุฌ!**  
**Production-Ready System!**

ุชุงุฑูุฎ: 5 ูุจุฑุงูุฑ 2025
