# ๐ ุฏููู ุงูุจุฏุก ุงูุณุฑูุน - ูุธุงู ุงูุฅุดุนุงุฑุงุช
## Quick Start Guide - Notifications System

---

## ๐ ูุง ุชู ุฅูุฌุงุฒู

### โ **ุงููุฑุญูุฉ 1: ูุงุนุฏุฉ ุงูุจูุงูุงุช**
- ุชู ุชุฑููุฉ ุฌุฏูู `notifications` (12 ุนููุฏ)
- ุชู ุฅูุดุงุก 6 ุฏูุงู RPC
- ุชู ุฅุถุงูุฉ 4 ุณูุงุณุงุช RLS
- ุชู ุฅูุดุงุก 8 ููุงุฑุณ ููุฃุฏุงุก

### โ **ุงููุฑุญูุฉ 2: ุงูููุฏ**
ุชู ุชุญุฏูุซ/ุฅูุดุงุก 7 ูููุงุช:

1. โ `lib/notificationUtils.ts` - ูุงุฌูุฉ TypeScript ูุญุฏุซุฉ
2. โ `app/dashboard/admin/approvals/page.tsx` - ุฅุดุนุงุฑุงุช ูุจูู/ุฑูุถ ุงูููุชุฌุงุช
3. โ `app/dashboard/vendor/products/new/page.tsx` - ุฅุดุนุงุฑ Admin ุจููุชุฌ ุฌุฏูุฏ
4. โ `lib/orderHelpers.ts` - ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช ูุน ุงูุฃููููุฉ
5. โ `app/complaints/page.tsx` - ุฅุดุนุงุฑุงุช ุงูุดูุงูู ููู Admin
6. โ `app/dashboard/restaurant/staff/page.tsx` - ุตูุญุฉ Staff ูููุทุงุนู (ุฌุฏูุฏุฉ)
7. โ `.env.example` - ุฅุถุงูุฉ ADMIN_USER_ID

---

## โก ุฎุทูุงุช ุงูุชุดุบูู ุงูุณุฑูุน

### 1๏ธโฃ **ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช** (ูุฑุฉ ูุงุญุฏุฉ ููุท)

ุงูุณูุฑูุจุช ููุฌูุฏ ูู: `database/execute-notifications-upgrade.sql`

โ **ุชู ุชูููุฐู ุจุงููุนู** - ุงููุชุงุฆุฌ:
```
โ 12 ุฃุนูุฏุฉ
โ 6 ุฏูุงู RPC
โ 4 ุณูุงุณุงุช RLS
โ 8 ููุงุฑุณ
```

### 2๏ธโฃ **ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ**

ุฃุถู ุฅูู `.env.local`:

```env
# ูุนุฑู ุงููุณุชุฎุฏู ุงูุฅุฏุงุฑู
NEXT_PUBLIC_ADMIN_USER_ID=your-admin-user-id-here
```

**ููููุฉ ุงูุญุตูู ุนูู Admin User ID:**
1. ุงูุชุญ Supabase Dashboard
2. Table Editor โ `users`
3. ุงุจุญุซ ุนู ุญุณุงุจู ุงูุฅุฏุงุฑู
4. ุงูุณุฎ ูููุฉ `id`

### 3๏ธโฃ **ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู**

```bash
# ุฃุนุฏ ุชุดุบูู Next.js ูุชุญููู ุงููุชุบูุฑุงุช ุงูุฌุฏูุฏุฉ
pnpm dev
```

---

## ๐ฏ ุงูุฅุดุนุงุฑุงุช ุงูููุนููุฉ ุงูุขู

### ููุจุงุฆุน (Vendor)
- โ ุฅุดุนุงุฑ ุนูุฏ ูุจูู ููุชุฌ
- โ ุฅุดุนุงุฑ ุนูุฏ ุฑูุถ ููุชุฌ (ูุน ุงูุณุจุจ)

### ูููุฏูุฑ (Admin)
- โ ุฅุดุนุงุฑ ุนูุฏ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ ูููุฑุงุฌุนุฉ
- โ ุฅุดุนุงุฑ ุนูุฏ ุชูุฏูู ุดููู ุฌุฏูุฏุฉ

### ููุนููุงุก (Customer)
- โ ุชุญุฏูุซุงุช ุญุงูุฉ ุงูุทูุจ (ูุน ุฃููููุฉ ุนุงููุฉ)

### ููุณุงุฆููู (Driver)
- โ ุทูุจุงุช ุชูุตูู ุฌุฏูุฏุฉ (ูุน ุฃููููุฉ ุนุงููุฉ)

### ููููุธููู (Staff)
- โ ุฏุนูุงุช ุงูุงูุถูุงู ููุฑูู ุงูุนูู

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ 1: ูุจูู/ุฑูุถ ููุชุฌ
1. ุงุฐูุจ ุฅูู `/dashboard/admin/approvals`
2. ุงุถุบุท "ููุงููุฉ" ุฃู "ุฑูุถ" ุนูู ุฃู ููุชุฌ
3. ุชุญูู ูู ุฅุดุนุงุฑุงุช ุงูุจุงุฆุน ูู `/dashboard/vendor`

### ุงุฎุชุจุงุฑ 2: ุฅุถุงูุฉ ููุชุฌ ูููุฑุงุฌุนุฉ
1. ูู Vendorุ ุงุฐูุจ ุฅูู `/dashboard/vendor/products/new`
2. ุฃุถู ููุชุฌ (ูุฆุฉ ุชุญุชุงุฌ ููุงููุฉ)
3. ุชุญูู ูู ุฅุดุนุงุฑุงุช Admin

### ุงุฎุชุจุงุฑ 3: ุชูุฏูู ุดููู
1. ุงุฐูุจ ุฅูู `/complaints`
2. ุฃุฑุณู ุดููู
3. ุชุญูู ูู ุฅุดุนุงุฑุงุช Admin

### ุงุฎุชุจุงุฑ 4: ุฅุถุงูุฉ ููุธู (Restaurant)
1. ุงุฐูุจ ุฅูู `/dashboard/restaurant/staff`
2. ุฃุถู ููุธู ุฌุฏูุฏ
3. ุชุญูู ูู ุฅุดุนุงุฑุงุช ุงูููุธู ุงููุถุงู

---

## ๐ ุงูุชุญูู ูู ุงูุจูุงูุงุช

### ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุงูุณูุฑูุจุช: `database/check-notifications-system.sql`

ูุนุฑุถ:
- โ ุนุฏุฏ ุงูุฃุนูุฏุฉ ูู ุฌุฏูู notifications
- โ ูุงุฆูุฉ ุงูุฏูุงู RPC
- โ ุงูุณูุงุณุงุช (Policies)
- โ ุงูููุงุฑุณ (Indexes)
- โ ุขุฎุฑ 10 ุฅุดุนุงุฑุงุช

---

## ๐จ ุฃููุงุน ุงูุฅุดุนุงุฑุงุช

| ุงูููุน | ุงูุฃููููุฉ | ุงููุฆุฉ | ุงููุตู |
|------|---------|------|-------|
| `product_approved` | normal | products | ูุจูู ููุชุฌ |
| `product_rejected` | high | products | ุฑูุถ ููุชุฌ |
| `product_pending` | normal | admin | ููุชุฌ ุฌุฏูุฏ ูููุฑุงุฌุนุฉ |
| `order_update` | high | orders | ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ |
| `new_order` | high | orders | ุทูุจ ุชูุตูู ุฌุฏูุฏ |
| `new_complaint` | high/urgent | admin | ุดููู ุฌุฏูุฏุฉ |
| `staff_invitation` | normal | staff | ุฏุนูุฉ ุงูุถูุงู |

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ุงููุดููุฉ: adminId is undefined

**ุงูุญู**:
```env
# ุชุฃูุฏ ูู ุฅุถุงูุฉ ูู .env.local
NEXT_PUBLIC_ADMIN_USER_ID=xxxxx
```

### โ ุงููุดููุฉ: ูุง ุชุธูุฑ ุงูุฅุดุนุงุฑุงุช

**ุงูุชุญูู**:
1. ุงูุชุญ Console ูู ุงููุชุตูุญ
2. ุงุจุญุซ ุนู ุฃุฎุทุงุก RLS
3. ุชุญูู ูู ุณูุงุณุงุช Supabase

### โ ุงููุดููุฉ: ุฎุทุฃ ูู ุฅูุดุงุก ุฅุดุนุงุฑ

**ุงูุชุญูู**:
```sql
-- ูู Supabase SQL Editor
SELECT * FROM notifications 
WHERE user_id = 'your-user-id' 
ORDER BY created_at DESC 
LIMIT 5;
```

---

## ๐ ุงููููุงุช ุงููุฑุฌุนูุฉ

| ุงูููู | ุงููุตู |
|------|-------|
| `NOTIFICATIONS_SYSTEM_COMPLETE.md` | ุงูุชูุซูู ุงูุดุงูู ุงููุงูู |
| `NOTIFICATIONS_SYSTEM_AUDIT_REPORT.md` | ุงูุชูุฑูุฑ ุงูุฃููู ุงูููุตู |
| `database/execute-notifications-upgrade.sql` | ุณูุฑูุจุช ุงูุชุฑููุฉ ุงููุงูู |
| `database/check-notifications-system.sql` | ุณูุฑูุจุช ุงููุญุต |

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑูุฉ)

### ุชุทููุฑุงุช ูุณุชูุจููุฉ

1. **ุฅุดุนุงุฑุงุช ุงููุฑุงุฌุนุงุช**
   - ุฅุดุนุงุฑ ุงูุจุงุฆุน ุนูุฏ ุชูููู ููุชุฌ

2. **ุฅุดุนุงุฑุงุช ุงูููุงููุฉ ุนูู ุงูุณุงุฆููู/ุงูุจุงุฆุนูู**
   - ุฅุดุนุงุฑ ุงูุณุงุฆู ุนูุฏ ูุจูู/ุฑูุถ ุทูุจู

3. **ุฅุดุนุงุฑุงุช ุงูููุจููุงุช**
   - ุฅุดุนุงุฑ ุงูุนููุงุก ุจููุจููุงุช ุฌุฏูุฏุฉ

4. **ุชูุธูู ุงูุฅุดุนุงุฑุงุช ุงููุฏููุฉ**
   - Cron Job ูุญุฐู ุฅุดุนุงุฑุงุช ุฃูุฏู ูู 90 ููู

---

## โ ูุงุฆูุฉ ุงููุฑุงุฌุนุฉ

- [x] ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุฏุซุฉ (12 ุนููุฏุ 6 ุฏูุงูุ 4 ุณูุงุณุงุชุ 8 ููุงุฑุณ)
- [x] ูุงุฌูุฉ TypeScript ูุญุฏุซุฉ
- [x] ุฅุดุนุงุฑุงุช ูุจูู/ุฑูุถ ุงูููุชุฌุงุช
- [x] ุฅุดุนุงุฑุงุช ููุชุฌ ุฌุฏูุฏ ูููุฑุงุฌุนุฉ
- [x] ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช ูุญุณููุฉ
- [x] ุฅุดุนุงุฑุงุช ุงูุดูุงูู
- [x] ุตูุญุฉ Staff ูููุทุงุนู
- [x] ADMIN_USER_ID ูู .env.example
- [ ] ุฅุถุงูุฉ ADMIN_USER_ID ุฅูู .env.local
- [ ] ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู
- [ ] ุงุฎุชุจุงุฑ ุฌููุน ุงูุฅุดุนุงุฑุงุช

---

## ๐ก ูุตุงุฆุญ ูููุฉ

1. **ุงูุฃูุงู**: ูุง ุชุดุงุฑู ADMIN_USER_ID ูู ุงูููุฏ ุงูุนุงู
2. **ุงูุฃุฏุงุก**: ุงุณุชุฎุฏู `limit` ุนูุฏ ุฌูุจ ุงูุฅุดุนุงุฑุงุช
3. **ุงูุตูุงูุฉ**: ูุธู ุงูุฅุดุนุงุฑุงุช ุงููุฏููุฉ ุจุดูู ุฏูุฑู
4. **ุงูุงุฎุชุจุงุฑ**: ุงุฎุชุจุฑ ูู ููุน ุฅุดุนุงุฑ ูุจู ุงููุดุฑ

---

**ุชู ุจุญูุฏ ุงููู** ๐

ุงููุธุงู ุฌุงูุฒ ููุนูู! ููุท ุฃุถู `ADMIN_USER_ID` ูุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ.
