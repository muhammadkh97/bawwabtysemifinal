# โ ุฎุทูุงุช ุชุทุจูู ุงูุญู ุงูููุงุฆู

## ุงููุชุทูุจุงุช
- ุญุณุงุจ Supabase
- SQL Editor ูู Supabase
- ุฌูุงุฒ ููุจููุชุฑ + VS Code

---

## ุงูุฎุทูุฉ ุงูุฃููู: ุชุดุบูู PART1.sql

### 1๏ธโฃ ุงูุชุญ Supabase Dashboard
```
ุฑุงุจุท: https://supabase.com โ ุงุฎุชุฑ ุงููุดุฑูุน
```

### 2๏ธโฃ ุงุฐูุจ ุฅูู SQL Editor
```
ุงููุงุฆูุฉ ุงููุณุงุฑ โ SQL Editor
```

### 3๏ธโฃ ุฅูุดุงุก query ุฌุฏูุฏุฉ
```
ุงุถุบุท "New Query"
```

### 4๏ธโฃ ูุณุฎ PART1.sql
```
1. ุงูุชุญ ุงูููู: database/add_restaurant_role_PART1.sql
2. ุงูุณุฎ ูู ุงููุญุชูู (Ctrl+A ุซู Ctrl+C)
3. ุงูุตู ูู Supabase (Ctrl+V)
```

### 5๏ธโฃ ุชุดุบูู
```
ุงุถุบุท ุงูุฒุฑ ุงูุฃุฒุฑู "Run" ุฃู ุงุถุบุท Ctrl+Enter
```

### 6๏ธโฃ ุชุญูู ูู ุงููุชูุฌุฉ
```
ุชุญุช ุงูููุฏ โ ุณูุธูุฑ:
- โ "1 row" ุฃู "Query successful"
- โ Output = "restaurant already exists" ุฃู "restaurant added"
```

### โ๏ธ ูู ุญุตู ุฎุทุฃ
```
ERROR: ... โ ูุง ูุนูู ุดูุก ุฎุทุฃ ูู ุงูุจูุงูุงุช
ุญุงูู ูุฑุฉ ุซุงููุฉ ุฃู ุงุชุตู ุจุงูุฏุนู
```

---

## ุงูุฎุทูุฉ ุงูุซุงููุฉ: ุชุดุบูู PART2.sql

### โณ ุงูุชุธุฑ 5 ุซูุงูู ุจุนุฏ PART1 โจ

### 1๏ธโฃ New Query ุฌุฏูุฏุฉ
```
ุงุถุบุท "New Query" ูุฑุฉ ุฃุฎุฑู
(ููู: ูุง ุชุณุชุฎุฏู ููุณ query PART1)
```

### 2๏ธโฃ ูุณุฎ PART2.sql
```
1. ุงูุชุญ: database/add_restaurant_role_PART2.sql
2. ุงูุณุฎ ูู ุงููุญุชูู
3. ุงูุตู ูู Supabase ุงูุฌุฏูุฏุฉ
```

### 3๏ธโฃ ุชุดุบูู
```
ุงุถุบุท "Run"
```

### 4๏ธโฃ ุชุญูู ูู ุงููุชูุฌุฉ
```
โ ูุง ูุธูุฑ ุฃู ุฎุทุฃ = ูุฌุญ!
โ ูู ุธูุฑ ุฎุทุฃ:
   "undefined column" โ ูุฏ ุชุญุชุงุฌ PART3
   "permission denied" โ ุชุญูู ูู ุงูุตูุงุญูุงุช
```

---

## ุงูุฎุทูุฉ ุงูุซุงูุซุฉ: Reload Schema Cache

### 1๏ธโฃ ุงุฐูุจ ุฅูู ุงูุฅุนุฏุงุฏุงุช
```
Database โ Settings (ุฃุณูู ุงูุตูุญุฉ)
```

### 2๏ธโฃ API Settings
```
ุงุจุญุซ ุนู "Reload schema cache"
```

### 3๏ธโฃ ุงุถุบุท ุงูุฒุฑ
```
ุงุถุบุท ุงูุฒุฑ ุงูุฃุญูุฑ "Reload"
(ูุฏ ุชูุชุธุฑ 5-10 ุซูุงูู)
```

---

## ุงูุฎุทูุฉ ุงูุฑุงุจุนุฉ: ุจูุงุก ุงูุชุทุจูู

### 1๏ธโฃ ุงูุชุญ Terminal ูู VS Code
```
Ctrl+` ุฃู View โ Terminal
```

### 2๏ธโฃ ุดุบูู build
```
npm run build
```

### 3๏ธโฃ ุชุญูู ูู ุงููุชูุฌุฉ
```
โ "done" = ูุฌุญ
โ "error" = ุดูุก ุฎุงุทุฆ
```

---

## ุงูุฎุทูุฉ ุงูุฎุงูุณุฉ: ุฑูุน ุงูุชุบููุฑุงุช

### 1๏ธโฃ ูู Terminal
```
git add .
git commit -m "Add restaurant role to system"
git push
```

### 2๏ธโฃ ุงูุชุธุฑ ุงููุดุฑ
```
ูุฏ ูุณุชุบุฑู 2-5 ุฏูุงุฆู
ุชุญูู ูู Vercel ุฃู ูููุนู
```

---

## ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู โ

### 1๏ธโฃ ุงุฎุชุจุฑ ุชุณุฌูู ุงูุฏุฎูู
```
- ูู ุจุชุณุฌูู ุฏุฎูู ูุญุณุงุจ restaurant
- ูุฌุจ ุฃู ููููู ุฅูู /dashboard/restaurant
```

### 2๏ธโฃ ุงุฎุชุจุฑ ุงูุตูุงุญูุงุช
```
- ุชุญูู ูู ุฃู ุงูู restaurant ูุฑู ุจูุงูุงุชู ููุท
- ุชุญูู ูู ุฃู ุงูู vendor ูุง ูุฑู ุจูุงูุงุช ุงูู restaurant
```

### 3๏ธโฃ ุงุฎุชุจุฑ ุงููุงุฌูุฉ
```
- ุงูุชุญ dashboard/restaurant
- ุชุญูู ูู ุฃู ูู ุงูุฃุฒุฑุงุฑ ุชุนูู
```

---

## ุชูุถูุญ ุงููุฏุฉ ุงูุฒูููุฉ

| ุงูุฎุทูุฉ | ุงููุฏุฉ |
|------|------|
| PART1.sql | 10 ุซูุงูู |
| ุงูุชุธุฑ | 5 ุซูุงูู |
| PART2.sql | 15 ุซุงููุฉ |
| Reload Cache | 10 ุซูุงูู |
| Build | 1-2 ุฏูููุฉ |
| Git Push | 2-5 ุฏูุงุฆู |
| **ุงููุฌููุน** | **10 ุฏูุงุฆู** |

---

## ูู ุญุตู ุฎุทุฃ

| ุงูุฎุทุฃ | ุงูุญู |
|------|------|
| `ERROR: 55P04` | ุงุณุชุฎุฏู PART1 ุซู PART2 ูููุตูุฉ |
| `undefined column` | ุงุชุฃูุฏ ูู ุชุดุบูู PART2 ุจุนุฏ PART1 |
| `permission denied` | ุชุญูู ูู ุตูุงุญูุงุชู ูู Supabase |
| `Build failed` | ุดุบูู `npm run build` ูุญููุงู ููุชูุงุตูู |

---

## ุชูุงู! ๐

ุงูุขู ูุธุงูู ุฌุงูุฒ ููู restaurant role!

ุงุฎุชุจุฑ ุงูุขู:
```
npm run dev
# ุงุฐูุจ ุฅูู http://localhost:3000
# ุณุฌู ุฏุฎูู ูู restaurant user
```

**ุงููุฌุงุญ = ุชุฑู `/dashboard/restaurant` โ**
